
<div class="container-fluid">
    <div class="row">
        <h2 class="page-header">QT30 - Quản lý sách thư viện</h2>
    </div>

    <div class="row">
        <div class="panel panel-default">
            <accordion>
                <accordion-group is-open="boxsearch.open">
                    <accordion-heading>
                        Thông tin tìm kiếm <i class="pull-right fa" ng-class="{'fa-angle-double-up': boxsearch.open, 'fa-angle-double-down': !boxsearch.open}"></i>
                    </accordion-heading>
                    <div class="panel-body">
                        <div class="row">
                            <div class="row">
                                <form role="form">
                                    <div class="col-md-6">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label>Tên sách</label>
                                            </div>
                                            <div class="col-md-8">
                                                <input class="form-control" placeholder="Tên sách" ng-model="search.bookName">
                                                <p class="help-block"></p>
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label>Tên tác giả</label>
                                            </div>
                                            <div class="col-md-8">
                                                <input class="form-control" placeholder="Tên tác" ng-model="search.authorName">
                                                <p class="help-block"></p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label>Chuyên ngành</label>
                                            </div>
                                            <div class="col-md-8">
                                                <select class="form-control" ng-model="search.fieldID" data-ng-options="item.categoryID as item.categoryName for item in ListFieldSearch" ng-change="changeSelectField()" required></select>
                                                <p class="help-block"></p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label>Loại sách</label>
                                            </div>
                                            <div class="col-md-8">
                                                <select class="form-control" ng-model="search.categoryID" data-ng-options="item.categoryID as item.categoryName for item in ListCategorySearch" required></select>
                                                <p class="help-block"></p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="col-md-12 text-right">
                                                <button type="submit" class="btn btn-primary" ng-click="FnSearch()">Tìm kiếm</button>
                                                <button type="button" class="btn btn-primary" ng-click="FnClear()">Xóa điều kiện</button>
                                            </div>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>
                </accordion-group>
            </accordion>
        </div>

    </div>
    <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading text-right">
                <label class="pull-left" style="font-weight:normal">Kết quả tìm kiếm</label>
                <button class="btn btn-primary" type="button" ng-click="GridFnCreate()">Thêm mới</button>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="dataTable_wrapper">
                            <table datatable="ng" dt-options="GridDtOptions" id="example"
                                   class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th width="80px">Thao tác</th>
                                        <th>Ảnh bìa</th>
                                        <th>Tên sách</th>
                                        <th>Loại sách</th>
                                        <th>Chuyên ngành</th>
                                        <th>Tác giả</th>
                                        <th>Nhà xuất bản</th>
                                        <th>Giá bìa</th>
                                        <th>Ngôn ngữ</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in GridListItem" ng-class="{'selected':$index == GridSelectedIndex}" ng-click="GridFnClickRow($index)">
                                        <td width="120px">
                                            <button class="btn btn-warning btn-xs" type="button" title="Sửa"
                                                    ng-click="GridFnEdit(item)">
                                                <i class="fa fa-edit fa-fw"></i>
                                            </button>
                                            <button class="btn btn-info btn-xs" type="button" title="" ng-show="item.statusTypeID == 2"
                                                    ng-click="changeStatusActive(item, $index)">
                                                Kích hoạt
                                            </button>
                                            <button class="btn btn-danger btn-xs" type="button" title="Dừng Hoạt Động" ng-show="item.statusTypeID == 1"
                                                    ng-click="changeStatusDeActive(item, $index)">
                                                Ngừng HĐ
                                            </button>
                                        </td>
                                        <td><img ng-src="{{item.imageURL}}" style="max-width: 80px; max-height: 80px;" /></td>
                                        <td>{{item.bookName}}</td>
                                        <td>{{item.categoryName}}</td>
                                        <td>{{item.fieldName}}</td>
                                        <td>{{item.authorName}}</td>
                                        <td>{{item.publisher}}</td>
                                        <td>{{item.bookPrice}}</td>
                                        <td>{{item.language}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
